// @license  MIT License
// @created  2022/04/03 14:11:00
// @author   Haba Kudzaev (rx1310) <rx1310@inbox.ru>
// @link     https://github.com/rx1310

// * Импорты
@use 'legacy' as *;

// * Сам миксин
/// @param $prop     CSS-свойство
/// @param $val      значение CSS-свойства
/// @param $prefixes список префиксов (без запятых)
/// @param $defDec   boolean-переменная, которая позволяет убрать свойство без префикса
@mixin prefixer($prop, $val, $prefixes: (), $defDec: true) {

	@if $prefixes == all {

		// ? Если параметром $prefixes указано значение
		// ? "all", то будет применён миксин prefixer-legacy.
		@include prefixer-legacy(
			$prop,
			$val
		);

	} @else {

		// ? Проходим по списку $prefixes и добавляем
		// ? префиксы по очереди.
		@each $prefix in $prefixes {
			/* #{$prop} for "#{$prefix}" */
			#{'-' + $prefix + '-' + $prop}: $val;
		}

		// ? Если передать параметру $defDec значение true,
		// ? то будет добавлена строка без префикса.
		@if $defDec == true {
			/* non prefixed "#{$prop}" */
			#{$prop}: $val;
		}

	}

}

// * Расширенная версия Prefixer
/// @param $decs     список CSS-свойств
/// @param $prefixes список префиксов (без запятых)
/// @param $defDec   boolean-переменная, которая позволяет убрать свойство без префикса
@mixin prefixer-pack($decs, $prefixes: (), $defDec: true) {

	@each $prop, $val in $decs {

		@if $prefixes == all {

			// ? Если параметром $prefixes указано значение
			// ? "all", то будет применён миксин prefixer-legacy.
			@include prefixer-legacy(
				$prop,
				$val
			);

		} @else {

			// ? Проходим по списку $prefixes и добавляем
			// ? префиксы по очереди.
			@each $prefix in $prefixes {
				/* #{$prop} for "#{$prefix}" */
				#{'-' + $prefix + '-' + $prop}: $val;
			}

			// ? Если передать параметру $defDec значение true,
			// ? то будет добавлена строка без префикса.
			@if $defDec == true {
				/* non prefixed "#{$prop}" */
				#{$prop}: $val;
			}

		}

	}

}
